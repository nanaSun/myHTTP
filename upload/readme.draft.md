# ç”¨KOAæ­å»ºä¸€ä¸ªFORMè¡¨å•ä¸Šä¼ çš„ç¯å¢ƒ

ä¸Šä¸Šä¸€æœŸé“¾æ¥â€”â€”ä¹Ÿå°±æ˜¯æœ¬æ–‡çš„åŸºç¡€ï¼Œ[å‚è€ƒKOAï¼Œ5æ­¥æ‰‹å†™ä¸€æ¬¾ç²—ç³™çš„webæ¡†æ¶](https://juejin.im/post/5b7e8718e51d4538ca573445)

ä¸Šä¸€æœŸé“¾æ¥â€”â€”æœ‰å…³Routerçš„å®ç°æ€è·¯ï¼Œ[å‚è€ƒKOAï¼Œ5æ­¥æ‰‹å†™ä¸€æ¬¾ç²—ç³™çš„webæ¡†æ¶](https://juejin.im/post/5b7e8718e51d4538ca573445)

æœ¬æ–‡å‚è€ƒä»“åº“ï¼š[ç‚¹æˆ‘](https://github.com/nanaSun/myHTTP/tree/master/router)

æœ¬æ¥æˆ‘æƒ³å…ˆå†™ç‚¹å…³äºåœ¨KOAä¸­ä½¿ç”¨ejsæ¨¡ç‰ˆä¸­é—´ä»¶çš„é—®é¢˜ï¼Œå¯æ˜¯æˆ‘è¢«è¡¨å•ä¸Šä¼ ç»™å°å°äº†ï¼ŒçœŸçš„æ˜¯å°å°äº†ï¼Œè¿™ä¸ªè¡¨å•ä¸Šä¼ çœ‹ä¼¼äººç•œæ— å®³ï¼Œå®åˆ™æš—è—ç„æœºï¼Œè®©æˆ‘ä¸åä¸å¿«ã€‚

æˆ‘åœ¨ç ”ç©¶è¿™ä¸ªä¸Šä¼ çš„ä¸­é—´ä»¶çš„æ—¶å€™ï¼Œå¤§æ¦‚å°±å±äºï¼Œè¿™ä¸ªå¾ˆç®€å•ï¼Œæºç éƒ½å°è£…å¥½äº†ï¼Œæ‹¿æ¥ç”¨å°±å¥½äº†ã€‚å¯æ˜¯æˆ‘å¤ªå¤©çœŸäº†ã€‚æºç ç»™ä½ çš„çœŸçš„æ˜¯â€œæºç â€ï¼Œæ— ä»»ä½•å¤„ç†çš„æ•°æ®ï¼Œç»å¯¹çš„å¤©ç„¶æ— æ±¡æŸ“ï¼å½“æ—¶æˆ‘å°±éœ‡æƒŠäº†ï¼Œæœ¬æ¥æƒ³30åˆ†é’Ÿè¿‡ä¸€éï¼Œå°±å¯ä»¥ç»“æŸäº†ã€‚ç»“æœğŸ˜­â€¦â€¦ï¼Œå¤§å“¥ï¼Œæˆ‘é”™äº†ï¼Œæˆ‘ä¸€å®šå¥½å¥½ç ”ç©¶â€¦â€¦

åœ¨å¼€å§‹åŠ¨æ‰‹æ•²ä»£ç å‰ï¼Œè¿˜æœ‰å‡ ç‚¹çŸ¥è¯†éœ€è¦ç§‘æ™®ä¸‹ï¼š

* [å®¢æˆ·ç«¯ï¼ˆclientï¼‰åƒæœåŠ¡å™¨ï¼ˆserverï¼‰å‘é€ä¿¡æ¯ã€‚](https://juejin.im/post/5b7919345188254312414b9c#heading-5)ï¼šå¦‚æœä¸è¿›è¡Œè¿™ä¸ªæ“ä½œï¼Œæˆ‘ä»¬æ— æ³•å¾—çŸ¥å‘ç”Ÿäº†ä»€ä¹ˆã€‚
* fsçš„å„ç±»æ“ä½œï¼ˆè¿™ä¸ªç­‰æˆ‘ç¨åè¡¥ä¸Šï¼Œå“ˆå“ˆå“ˆå“ˆï¼‰ï¼šè¿™ä¸ªæ“ä½œç”¨äºå°†ç”¨æˆ·ä¸Šä¼ çš„å†…å®¹ä¿å­˜åˆ°æœ¬åœ°ã€‚

## é‡ç‚¹â€œåŸæ–™â€ä»£ç 

è·å–HEADERSä¿¡æ¯

```
Content-Length: 230
Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryfWSJqD9FgKeYfOTF
```

æ‹¼æ¥è·å–çš„èµ„æºï¼Œå¹¶ç»„åˆã€‚

```
let buf=[]
ctx.req.on("data",(data)=>{
    buf.push(data)
});
ctx.req.on("end",(data)=>{
    string=Buffer.concat(buf).toString()
})
```

è¿‡æ»¤æ ¼å¼åŒ–è·å–åˆ°çš„å†…å®¹
```
------WebKitFormBoundaryfWSJqD9FgKeYfOTF
Content-Disposition: form-data; name="text"

111
------WebKitFormBoundaryfWSJqD9FgKeYfOTF
Content-Disposition: form-data; name="aaa"; filename="checked.png"
Content-Type: image/png

ï¿½PNG

------WebKitFormBoundaryfWSJqD9FgKeYfOTF--
```



